<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type="text/javascript" src="HeaderFooter.js"></script>       
        <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
        <link type="text/css" rel="stylesheet" href="styles.css" />
        <title>Password Generator</title> 
        <script type="text/javascript">
        	function lengthChange () {
        		var passLength = document.getElementById("lengthSlider").value;
        		document.getElementById("lengthDisplay").innerHTML=passLength;
        	}
        </script>
        <script type="text/javascript">
        	function genPW () {
        		//alert("function call");
        		var basicArray = [0,1,2,3,4,5,6,7,8,9,'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];
				var enhancedArray = [0,1,2,3,4,5,6,7,8,9,'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','@','#','$','%','^','&','*'];
				
				//assign digits to the password
					var pwlength=document.getElementById("lengthSlider").value;
					//alert(pwlength);
					var array;
					if (document.getElementById("basic").checked) {
						//alert("basic");
						array=basicArray;
					} else {
						//alert("enhanced");
						array=enhancedArray;
					}
					var valid = false;
					while (!valid) {
						var number = 0;
						var lower = 0;
						var upper = 0;
						var special = 0;
						var password='';
						for (var i=0; i<pwlength; i++) {
						index = Math.floor(Math.random()*(array.length));
						password += String(array[index]);
							//validation section
							//password must have one number, one lwercase letter, and one uppercase letter
							if (index < 10) {
								number++;
							}
							if (index > 10 && index < 36) {
								lower++;
							}
							if (index > 35 && index < 62) {
								upper++;
							}
							if (index > 61) {
								special++;
							}
							if (number > 0 && lower > 0 && upper > 0) {
								valid = true;
							}
							if (array.length > 62) {
								if (special == 0) {
									valid = false;
								}
							}							
						}
					}
					document.getElementById('passLabel').innerHTML=password;
				}
				
        </script>              
    </head>
    <body>
    	<div class="wrapper">
        	<div class="contentcontainer">
        		<div class="header">
        			
        		</div>
            	<div class="content">
            		            		
            			<form>
            				<p>
            					Basic passwords include numbers and upper and lowercase letters.  Enhanced passwords also include special characters (@#$%^&*).<br><br>
            					<input type="radio" name="typeSelector" value="basic" checked=true id="basic">Basic
            					<input type="radio" name="typeSelector" value="enhanced" id="enhanced">Enhanced<br><br>
            					Set password length:<br>
            					<input type="range" name="lengthSlider" id="lengthSlider" min="6" max="50" value="6" onchange="lengthChange()"><span id="lengthDisplay">6</span><br>
            					<input type="button" value="Generate Password" onclick="genPW()"><span id="passLabel"></span>
            				</p>
            				
            			</form>            		
            	</div>
            	<div class="footer">
            		
            	</div>
            </div>
        </div>
    </body>
</html>
